<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.linguatune.controller.MainController">

    <top>
        <MenuBar>
            <menus>
                <Menu text="Справка">
                    <items>
                        <MenuItem text="О программе" onAction="#onAbout"/>
                    </items>
                </Menu>
            </menus>
        </MenuBar>
    </top>

    <center>
        <TabPane fx:id="mainTabPane">
            <tabs>

                <Tab text="Профиль" closable="false">
                    <content>
                        <StackPane>
                            <children>
                                <VBox spacing="16"
                                      alignment="TOP_CENTER"
                                      maxWidth="420">
                                    <padding>
                                        <Insets top="40" right="40" bottom="40" left="40"/>
                                    </padding>

                                    <children>
                                        <Label text="Профиль пользователя"
                                               style="-fx-font-size: 22px; -fx-font-weight: bold;"/>

                                        <VBox fx:id="boxEditUser"
                                              spacing="10"
                                              alignment="CENTER"
                                              fillWidth="true">
                                            <children>
                                                <VBox spacing="6" alignment="CENTER">
                                                    <children>
                                                        <Label text="Имя пользователя:"/>
                                                        <TextField fx:id="txtUserName"
                                                                   promptText="Введите ваше имя"
                                                                   prefWidth="260"/>
                                                    </children>
                                                </VBox>
                                                <Button text="Сохранить профиль"
                                                        onAction="#onSaveProfile"
                                                        maxWidth="Infinity"/>
                                            </children>
                                        </VBox>

                                        <VBox fx:id="boxViewUser"
                                              spacing="10"
                                              alignment="CENTER"
                                              fillWidth="true">
                                            <children>
                                                <Label text="Имя пользователя:"/>
                                                <Label fx:id="lblUserNameDisplay"
                                                       text="Имя не задано"/>
                                                <Button text="Редактировать имя"
                                                        onAction="#onEditName"
                                                        maxWidth="Infinity"/>
                                            </children>
                                        </VBox>

                                        <Label text="Мини-статистика:"
                                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                                        <VBox spacing="6" alignment="CENTER">
                                            <children>
                                                <HBox spacing="10" alignment="CENTER">
                                                    <children>
                                                        <Label text="Всего песен в каталоге:"/>
                                                        <Label fx:id="lblTotalSongsValue" text="0"/>
                                                    </children>
                                                </HBox>

                                                <HBox spacing="10" alignment="CENTER">
                                                    <children>
                                                        <Label text="Всего слов в словаре:"/>
                                                        <Label fx:id="lblTotalWordsValue" text="0"/>
                                                    </children>
                                                </HBox>
                                            </children>
                                        </VBox>
                                    </children>
                                </VBox>
                            </children>
                        </StackPane>
                    </content>
                </Tab>

                <Tab text="Каталог" closable="false">
                    <content>
                        <VBox spacing="10">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10"/>
                            </padding>

                            <children>
                                <HBox spacing="10">
                                    <children>
                                        <Label text="Поиск:"/>
                                        <TextField fx:id="songSearchField"
                                                   prefWidth="260"
                                                   promptText="Название или исполнитель"/>

                                        <Label text="Уровень:"/>
                                        <ComboBox fx:id="levelFilter"
                                                  prefWidth="160"/>
                                    </children>
                                </HBox>

                                <TableView fx:id="songTable">
                                    <columns>
                                        <TableColumn fx:id="colTitle"
                                                     text="Название"
                                                     prefWidth="200"/>
                                        <TableColumn fx:id="colArtist"
                                                     text="Исполнитель"
                                                     prefWidth="180"/>
                                        <TableColumn fx:id="colGenre"
                                                     text="Жанр"
                                                     prefWidth="120"/>
                                        <TableColumn fx:id="colSongLevel"
                                                     text="Уровень"
                                                     prefWidth="80"/>
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>
                    </content>
                </Tab>

                <Tab text="Словарь" closable="false">
                    <content>
                        <VBox spacing="10">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10"/>
                            </padding>

                            <children>
                                <HBox spacing="10">
                                    <children>
                                        <Button text="Скачать словарь (CSV)"
                                                onAction="#onSaveDictionary"/>
                                        <Button text="Удалить"
                                                onAction="#onDeleteWord"/>
                                    </children>
                                </HBox>

                                <TableView fx:id="wordTable">
                                    <columns>
                                        <TableColumn fx:id="colWord"
                                                     text="Слово"
                                                     prefWidth="150"/>
                                        <TableColumn fx:id="colTranslation"
                                                     text="Перевод"
                                                     prefWidth="250"/>
                                    </columns>
                                </TableView>
                            </children>
                        </VBox>
                    </content>
                </Tab>

            </tabs>
        </TabPane>
    </center>

</BorderPane>
